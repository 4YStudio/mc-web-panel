# MC Web Panel (Fabric Edition)

![License](https://img.shields.io/badge/license-MIT-blue.svg) ![Node.js](https://img.shields.io/badge/node-%3E%3D20-green.svg) ![Vue.js](https://img.shields.io/badge/vue-3.x-emerald.svg)

è¿™æ˜¯ä¸€ä¸ªåŸºäº Node.js æ„å»ºçš„è½»é‡çº§ã€ç°ä»£åŒ– Minecraft æœåŠ¡å™¨ç½‘é¡µç®¡ç†é¢æ¿ã€‚ä¸“ä¸º **Fabric** æ¨¡ç»„æœåŠ¡å™¨è®¾è®¡ï¼Œæ·±åº¦é›†æˆäº† **Advanced Backups** å’Œ **EasyAuth** ç­‰å¸¸ç”¨æ¨¡ç»„çš„ç®¡ç†åŠŸèƒ½ã€‚

é¢æ¿é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼ˆNode.js + Vue 3 ESMï¼‰ï¼Œæ— éœ€æ„å»ºå·¥å…·ï¼Œå¼€ç®±å³ç”¨ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ–¥ï¸ ä»ªè¡¨ç›˜ & æ§åˆ¶å°
*   **å®æ—¶æ§åˆ¶å°**ï¼šæ”¯æŒå½©è‰²æ—¥å¿—è¾“å‡ºï¼Œå®æ—¶æŸ¥çœ‹æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€ã€‚
*   **èµ„æºç›‘æ§**ï¼šå®æ—¶æ˜¾ç¤º CPUã€å†…å­˜å ç”¨ç‡ä»¥åŠåœ¨çº¿ç©å®¶/æœ€å¤§ç©å®¶æ•°è¿›åº¦æ¡ã€‚
*   **å†å²æ—¥å¿—**ï¼šåˆ·æ–°é¡µé¢åè‡ªåŠ¨æ‹‰å–æœ€è¿‘çš„å†å²æ—¥å¿—ï¼Œä¸ä¼šä¸¢å¤±ä¸Šä¸‹æ–‡ã€‚
*   **ç”µæºæ§åˆ¶**ï¼šå¯åŠ¨ã€åœæ­¢ã€å¼ºåˆ¶å…³é—­æœåŠ¡å™¨ã€‚

### ğŸ“‚ æ–‡ä»¶ä¸æ¨¡ç»„ç®¡ç†
*   **å…¨åŠŸèƒ½æ–‡ä»¶ç®¡ç†å™¨**ï¼šæ”¯æŒä¸Šä¼ ï¼ˆæ‹–æ‹½/å¤šé€‰ï¼‰ã€ä¸‹è½½ã€å¤åˆ¶ã€ç§»åŠ¨ã€åˆ é™¤æ–‡ä»¶ã€‚
*   **åœ¨çº¿ç¼–è¾‘**ï¼šæ”¯æŒç¼–è¾‘ `.json`, `.properties`, `.toml`, `.conf` ç­‰é…ç½®æ–‡ä»¶ï¼Œæä¾›å…¨å±ç¼–è¾‘å™¨ä½“éªŒã€‚
*   **æ¨¡ç»„ç®¡ç†**ï¼š
    *   **ä¸€é”®å¼€å…³**ï¼šç‚¹å‡»æŒ‰é’®å³å¯ç¦ç”¨/å¯ç”¨æ¨¡ç»„ï¼ˆè‡ªåŠ¨æ·»åŠ /ç§»é™¤ `.disabled` åç¼€ï¼‰ã€‚
    *   **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡ä¸Šä¼ æ¨¡ç»„ã€æ‰¹é‡åˆ é™¤ã€‚
*   **å‹ç¼©/è§£å‹**ï¼šæ”¯æŒå°†å¤šä¸ªæ–‡ä»¶æ‰“åŒ…ä¸º `.zip` ä¸‹è½½ã€‚

### ğŸ‘¥ ç©å®¶ç®¡ç†
*   **åœ¨çº¿ç©å®¶æ“ä½œ**ï¼š
    *   è¸¢å‡ºã€å°ç¦ã€æ¸…ç©ºèƒŒåŒ…ã€å‡»æ€ã€‚
    *   **æ¨¡å¼åˆ‡æ¢**ï¼šé€šè¿‡å¼¹çª—å¿«é€Ÿåˆ‡æ¢ç”Ÿå­˜/åˆ›é€ /æ—è§‚æ¨¡å¼ã€‚
    *   **ä¼ é€**ï¼šæ”¯æŒä¼ é€åˆ°åæ ‡æˆ–æŒ‡å®šç©å®¶ã€‚
*   **æ™ºèƒ½å¤´åƒæ˜¾ç¤º**ï¼š
    *   è‡ªåŠ¨æ£€æµ‹æ­£ç‰ˆè´¦å·ï¼Œä¼˜å…ˆæ˜¾ç¤º **Minotar** æ­£ç‰ˆå¤´åƒã€‚
    *   éæ­£ç‰ˆè´¦å·è‡ªåŠ¨å›é€€åˆ° **LittleSkin**ï¼Œå¹¶ä½¿ç”¨ CSS æŠ€æœ¯è£å‰ªçš®è‚¤æºæ–‡ä»¶ï¼Œå®Œç¾è¿˜åŸå¤´åƒï¼ˆåŒ…æ‹¬å¸½å­å±‚ï¼‰ã€‚
*   **åå•ç®¡ç†**ï¼šå›¾å½¢åŒ–ç®¡ç†ç™½åå•ã€OP ç®¡ç†å‘˜ã€å°ç¦åå•ã€‚

### ğŸ›¡ï¸ EasyAuth è®¤è¯é›†æˆ
*   **è‡ªåŠ¨è¯†åˆ«**ï¼šæ£€æµ‹åˆ° `EasyAuth` æ¨¡ç»„åè‡ªåŠ¨æ˜¾ç¤ºç®¡ç†èœå•ã€‚
*   **è´¦å·ç®¡ç†**ï¼šæŸ¥çœ‹å·²æ³¨å†Œç©å®¶ï¼Œæ”¯æŒ**æ³¨é”€ï¼ˆåˆ é™¤ï¼‰**ç©å®¶è´¦å·ã€‚
*   **å¯†ç é‡ç½®**ï¼šç®¡ç†å‘˜å¯ç›´æ¥ä¿®æ”¹ç©å®¶å¯†ç ï¼ˆè‡ªåŠ¨ BCrypt åŠ å¯†ï¼‰ã€‚
*   **é…ç½®ç®¡ç†**ï¼šæ”¯æŒ **å›¾å½¢åŒ–/æ–‡æœ¬åŒæ¨¡å¼** ç¼–è¾‘ `main.conf` ç­‰é…ç½®æ–‡ä»¶ã€‚

### ğŸ’¾ å¤‡ä»½ç®¡ç† (Advanced Backups)
*   **æ·±åº¦é›†æˆ**ï¼šä¸“ä¸º **Advanced Backups** æ¨¡ç»„è®¾è®¡ã€‚
*   **æ™ºèƒ½å›æ¡£**ï¼š
    *   è‡ªåŠ¨è¯†åˆ« **å…¨é‡ (Full)** å’Œ **å·®é‡ (Partial)** å¤‡ä»½ã€‚
    *   ç‚¹å‡»å›æ¡£æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœæ­¢æœåŠ¡å™¨ï¼Œå¤‡ä»½å½“å‰åœ°å›¾ï¼Œå¹¶**è‡ªåŠ¨èåˆ**æœ€è¿‘çš„å…¨é‡åŒ…å’Œé€‰ä¸­çš„å·®é‡åŒ…ï¼Œä¸€é”®æ¢å¤ã€‚
*   **åœ¨çº¿å¤‡ä»½**ï¼šåœ¨é¢æ¿ä¸Šä¸€é”®è§¦å‘ `/backup start`ã€‚
*   **é…ç½®ç®¡ç†**ï¼šå›¾å½¢åŒ–ç•Œé¢è°ƒæ•´å¤‡ä»½é¢‘ç‡ã€ä¿ç•™ç­–ç•¥ç­‰ã€‚

### ğŸ” å®‰å…¨æ€§
*   **2FA åŒé‡éªŒè¯**ï¼šé¦–æ¬¡å¯åŠ¨ç”ŸæˆäºŒç»´ç ï¼Œå¿…é¡»ä½¿ç”¨ Google Authenticator æˆ–ç±»ä¼¼åº”ç”¨ç»‘å®šã€‚
*   **ç™»å½•ä¿æŠ¤**ï¼šå¿…é¡»è¾“å…¥æ­£ç¡®çš„ TOTP åŠ¨æ€éªŒè¯ç æ‰èƒ½è®¿é—®é¢æ¿ã€‚

## ğŸ› ï¸ å®‰è£…ä¸éƒ¨ç½²

### 1. ç¯å¢ƒè¦æ±‚
*   **Node.js**: v20 æˆ– v22 (LTS ç‰ˆæœ¬æ¨èï¼Œä»¥ç¡®ä¿ `sqlite3` å…¼å®¹æ€§)
*   **ç³»ç»Ÿ**: Linux (æ¨è Ubuntu/Debian) / Windows / macOS

### 2. å®‰è£…ä¾èµ–
```bash
# å…‹éš†æˆ–ä¸‹è½½æœ¬é¡¹ç›®åˆ°æœ¬åœ°
git clone https://github.com/4YStudio/mc-web-panel.git
cd mc-web-panel

# å®‰è£… npm ä¾èµ–
npm install
```

> **æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä½¿ç”¨äº† `sqlite3` å’Œ `bcryptjs`ã€‚å¦‚æœä½ åˆ‡æ¢äº† Node ç‰ˆæœ¬ï¼Œè¯·åŠ¡å¿…æ‰§è¡Œ `npm rebuild` æˆ–åˆ é™¤ `node_modules` é‡æ–°å®‰è£…ã€‚

### 3. å‡†å¤‡æœåŠ¡å™¨æ–‡ä»¶
å°†ä½ çš„ Minecraft æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶æ”¾å…¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `mc_server` æ–‡ä»¶å¤¹ä¸­ã€‚

```text
mc-web-panel/
â”œâ”€â”€ mc_server/
â”‚   â”œâ”€â”€ fabric-server-launch.jar  <-- ä½ çš„å¯åŠ¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ eula.txt                  <-- eula=true
â”‚   â”œâ”€â”€ server.properties
â”‚   â”œâ”€â”€ mods/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ public/
â”œâ”€â”€ server.js
â””â”€â”€ ...
```

*å¦‚æœä½ è¿˜æ²¡æœ‰æœåŠ¡ç«¯æ–‡ä»¶ï¼Œè¿è¡Œä¸€æ¬¡é¢æ¿ï¼Œå®ƒä¼šè‡ªåŠ¨åˆ›å»º `mc_server` æ–‡ä»¶å¤¹ï¼Œä½ åªéœ€æŠŠ jar åŒ…æ”¾è¿›å»å³å¯ã€‚*

### 4. ä¿®æ”¹é…ç½®
æ‰“å¼€ `server.js`ï¼Œæ ¹æ®ä½ çš„å®é™…æƒ…å†µä¿®æ”¹é¡¶éƒ¨çš„é…ç½®åŒºåŸŸï¼š

```javascript
const JAR_NAME = 'fabric-server-launch.jar'; // ä¿®æ”¹ä¸ºä½ çš„æ ¸å¿ƒæ–‡ä»¶å
const JAVA_ARGS = ['-Xms2G', '-Xmx4G'];      // ä¿®æ”¹å†…å­˜åˆ†é…
```

## ğŸš€ å¯åŠ¨é¢æ¿

```bash
node server.js
```

å¯åŠ¨æˆåŠŸåï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºè®¿é—®åœ°å€ï¼Œé»˜è®¤ä¸ºï¼š
`http://localhost:3000`

### é¦–æ¬¡ç™»å½•
1.  æ‰“å¼€æµè§ˆå™¨è®¿é—®é¢æ¿ã€‚
2.  é¡µé¢ä¼šæ˜¾ç¤ºä¸€ä¸ª **äºŒç»´ç **ã€‚
3.  ä½¿ç”¨æ‰‹æœºä¸Šçš„ **Google Authenticator (èº«ä»½éªŒè¯å™¨)** æˆ– **Microsoft Authenticator** æ‰«æäºŒç»´ç ã€‚
4.  è¾“å…¥æ‰‹æœºä¸Šæ˜¾ç¤ºçš„ 6 ä½æ•°å­—ä»£ç è¿›è¡Œç™»å½•ã€‚
5.  *æ³¨æ„ï¼šäºŒç»´ç ä»…åœ¨é¦–æ¬¡æœªé…ç½®æ—¶æ˜¾ç¤ºï¼Œå¯†é’¥ä¼šä¿å­˜åœ¨ `data/config.json` ä¸­ã€‚*

## ğŸ“ ç›®å½•ç»“æ„è¯´æ˜

```text
.
â”œâ”€â”€ data/               # é¢æ¿æ•°æ® (config.json, panel.log)
â”œâ”€â”€ mc_server/          # Minecraft æœåŠ¡å™¨æ ¸å¿ƒç›®å½•
â”œâ”€â”€ public/             # å‰ç«¯é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/            # æ ·å¼è¡¨
â”‚   â”œâ”€â”€ js/             # å‰ç«¯é€»è¾‘ (Vueç»„ä»¶, Store, API)
â”‚   â”‚   â”œâ”€â”€ components/ # æ¨¡å—åŒ–ç»„ä»¶ (Backup, EasyAuthç­‰)
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ index.html      # å…¥å£é¡µé¢
â””â”€â”€ server.js           # åç«¯æ ¸å¿ƒç¨‹åº (Express + Socket.io)
```

## ğŸ§© å¸¸è§é—®é¢˜ (FAQ)

**Q: ä¸ºä»€ä¹ˆ EasyAuth ç®¡ç†ç•Œé¢æŠ¥é”™ 500ï¼Ÿ**
A: è¯·æ£€æŸ¥ä½ çš„ Node.js ç‰ˆæœ¬ã€‚`sqlite3` ä¾èµ–éœ€è¦ä¸ Node ç‰ˆæœ¬åŒ¹é…ã€‚å»ºè®®ä½¿ç”¨ `nvm` åˆ‡æ¢åˆ° Node v20 LTSï¼Œå¹¶é‡æ–°è¿è¡Œ `npm install`ã€‚

**Q: å›æ¡£è¿›åº¦æ¡ä¸åŠ¨ï¼Ÿ**
A: å›æ¡£æ¶‰åŠè§£å‹å¤§æ–‡ä»¶ï¼Œå¦‚æœæœåŠ¡å™¨ç£ç›˜è¯»å†™è¾ƒæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚ä¸è¦å…³é—­é¡µé¢ï¼Œå›æ¡£å®Œæˆåä¼šå¼¹å‡ºæç¤ºã€‚

**Q: å¤´åƒæ˜¾ç¤ºä¸º Steveï¼Ÿ**
A: é¢æ¿ä¼šå…ˆæ£€æµ‹ PlayerDB æ­£ç‰ˆåº“ï¼Œå†æ£€æµ‹ LittleSkinã€‚å¦‚æœä¸¤è€…éƒ½æ— æ•°æ®ï¼Œæˆ–è€…ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œåˆ™æ˜¾ç¤ºé»˜è®¤ Steveã€‚

## ğŸ“„ è®¸å¯è¯

MIT License. æ¬¢è¿ Fork å’Œæäº¤ PRï¼
